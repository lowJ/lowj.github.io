<!DOCTYPE html>
<html lang="en-us">
<head>
  <link rel="preload" href="/lib/font-awesome/webfonts/fa-brands-400.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" href="/lib/font-awesome/webfonts/fa-regular-400.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" href="/lib/font-awesome/webfonts/fa-solid-900.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" href="/lib/JetBrainsMono/web/woff2/JetBrainsMono-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <script type="text/javascript" src="https://latest.cactus.chat/cactus.js"></script>
  <link rel="stylesheet" href="https://latest.cactus.chat/style.css" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title> Wireless UART (Serial) for STM32/Arduino (HM-10) | Jonathan</title>
  <link rel = 'canonical' href = 'https://lowj.github.io/posts/wireless_uart/'>
  <meta name="description" content="Currently a CSE major at UC Irvine. 
   
 Previously: Intern at Amazon, Northrop Grumman;">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="robots" content="all,follow">
  <meta name="googlebot" content="index,follow,snippet,archive">
  <meta property="og:title" content="Wireless UART (Serial) for STM32/Arduino (HM-10)" />
<meta property="og:description" content="A guide to get wirless using UART communication using 2 HM-10 BLE modules.
Initially I tried going the HC-05 route to get wireless UART communication on my projects, however I always ran into connection/powering issues with the HC-05.
Recently I got the HM-10 bluetooth modules, which have worked much better for me. However one downside, compared to the HC-05, is that you will need 2 HM-10 modules and a Serial to USB cable in order to get wireless UART working." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://lowj.github.io/posts/wireless_uart/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-05-22T16:56:54+00:00" />
<meta property="article:modified_time" content="2023-05-22T16:56:54+00:00" />


  <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Wireless UART (Serial) for STM32/Arduino (HM-10)"/>
<meta name="twitter:description" content="A guide to get wirless using UART communication using 2 HM-10 BLE modules.
Initially I tried going the HC-05 route to get wireless UART communication on my projects, however I always ran into connection/powering issues with the HC-05.
Recently I got the HM-10 bluetooth modules, which have worked much better for me. However one downside, compared to the HC-05, is that you will need 2 HM-10 modules and a Serial to USB cable in order to get wireless UART working."/>

  
  
    
  
  
  <link rel="stylesheet" href="https://lowj.github.io/css/styles.c05d68261bf086a9d7713c4f8a6215a3601608e267a816a7ee58f139b3d1aae51222aae2081c8e0c6bd35e1334773b7a16283022f31f92afd93bb37e5e822e66.css" integrity="sha512-wF1oJhvwhqnXcTxPimIVo2AWCOJnqBan7ljxObPRquUSIqriCByODGvTXhM0dzt6FigwIvMfkq/ZO7N&#43;XoIuZg=="> 

  
  
  
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  

  
<link rel="icon" type="image/png" href="https://lowj.github.io/images/favicon.ico" />

  
  
  
  
</head>

<body class="max-width mx-auto px3 ltr">
  <div class="content index py4">

  <div id="header-post">
  <a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;" aria-label="Top of Page"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
        <li><a href="/">Home</a></li>
         
        <li><a href="/posts">Writings</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li>
          <a class="icon" href=" https://lowj.github.io/posts/tp_kb/" aria-label="Previous">
            <i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i>
          </a>
        </li>
        
        
        <li>
          <a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" aria-label="Top of Page">
            <i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i>
          </a>
        </li>
        <li>
          <a class="icon" href="#" aria-label="Share">
            <i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i>
          </a>
        </li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      
      <ul>
  
  
    
  
  
  <li>
    <a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2flowj.github.io%2fposts%2fwireless_uart%2f" aria-label="Facebook">
      <i class="fab fa-facebook " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://twitter.com/share?url=https%3a%2f%2flowj.github.io%2fposts%2fwireless_uart%2f&text=Wireless%20UART%20%28Serial%29%20for%20STM32%2fArduino%20%28HM-10%29" aria-label="Twitter">
      <i class="fab fa-twitter " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2flowj.github.io%2fposts%2fwireless_uart%2f&title=Wireless%20UART%20%28Serial%29%20for%20STM32%2fArduino%20%28HM-10%29" aria-label="Linkedin">
      <i class="fab fa-linkedin " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2flowj.github.io%2fposts%2fwireless_uart%2f&is_video=false&description=Wireless%20UART%20%28Serial%29%20for%20STM32%2fArduino%20%28HM-10%29" aria-label="Pinterest">
      <i class="fab fa-pinterest " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="mailto:?subject=Wireless%20UART%20%28Serial%29%20for%20STM32%2fArduino%20%28HM-10%29&body=Check out this article: https%3a%2f%2flowj.github.io%2fposts%2fwireless_uart%2f" aria-label="Email">
      <i class="fas fa-envelope " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2flowj.github.io%2fposts%2fwireless_uart%2f&title=Wireless%20UART%20%28Serial%29%20for%20STM32%2fArduino%20%28HM-10%29" aria-label="Pocket">
      <i class="fab fa-get-pocket " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2flowj.github.io%2fposts%2fwireless_uart%2f&title=Wireless%20UART%20%28Serial%29%20for%20STM32%2fArduino%20%28HM-10%29" aria-label="reddit">
      <i class="fab fa-reddit " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.tumblr.com/share/link?url=https%3a%2f%2flowj.github.io%2fposts%2fwireless_uart%2f&name=Wireless%20UART%20%28Serial%29%20for%20STM32%2fArduino%20%28HM-10%29&description=A%20guide%20to%20get%20wirless%20using%20UART%20communication%20using%202%20HM-10%20BLE%20modules.%0aInitially%20I%20tried%20going%20the%20HC-05%20route%20to%20get%20wireless%20UART%20communication%20on%20my%20projects%2c%20however%20I%20always%20ran%20into%20connection%2fpowering%20issues%20with%20the%20HC-05.%0aRecently%20I%20got%20the%20HM-10%20bluetooth%20modules%2c%20which%20have%20worked%20much%20better%20for%20me.%20However%20one%20downside%2c%20compared%20to%20the%20HC-05%2c%20is%20that%20you%20will%20need%202%20HM-10%20modules%20and%20a%20Serial%20to%20USB%20cable%20in%20order%20to%20get%20wireless%20UART%20working." aria-label="Tumblr">
      <i class="fab fa-tumblr " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2flowj.github.io%2fposts%2fwireless_uart%2f&t=Wireless%20UART%20%28Serial%29%20for%20STM32%2fArduino%20%28HM-10%29" aria-label="Hacker News">
      <i class="fab fa-hacker-news " aria-hidden="true"></i>
    </a>
  </li>
</ul>

    </div>
    
    <div id="toc">
      <nav id="TableOfContents">
  <ul>
    <li><a href="#configuring-the-hm-10s">Configuring The HM-10&rsquo;s</a>
      <ul>
        <li><a href="#1-connect--the-hm10-to-your-serial-cable">1. Connect  the HM10 to your serial cable</a></li>
        <li><a href="#2-choose-a-serial-monitor">2. Choose a Serial monitor</a></li>
        <li><a href="#3-pairing">3. Pairing</a></li>
        <li><a href="#4-configuration">4. Configuration</a></li>
      </ul>
    </li>
    <li><a href="#tips">Tips</a></li>
    <li><a href="#refrences">Refrences</a></li>
  </ul>
</nav>
    </div>
    
  </span>
</div>


  <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
    <header>
      <h1 class="posttitle" itemprop="name headline">
        Wireless UART (Serial) for STM32/Arduino (HM-10)
      </h1>
      <div class="meta">
        
        <div class="postdate">
          
          <time datetime="2023-05-22 16:56:54 &#43;0000 UTC" itemprop="datePublished">2023-05-22</time>
          
        </div>
        
        
        
        
        <div class="article-tag">
            <i class="fas fa-tag"></i>
            
            
            <a class="tag-link" href="/tags/keyboard" rel="tag">Keyboard</a>
            
        </div>
        
      </div>
    </header>

  
    
    <div class="content" itemprop="articleBody">
      <p>A guide to get wirless using UART communication using 2 HM-10 BLE modules.</p>
<p>Initially I tried going the HC-05 route to get wireless UART communication on my projects, however I always ran into connection/powering issues with the HC-05.</p>
<p>Recently I got the HM-10 bluetooth modules, which have worked much better for me. However one downside, compared to the HC-05, is that you will need 2 HM-10 modules and a Serial to USB cable in order to get wireless UART working.</p>
<p>Parts:</p>
<p><code>2x HM-10 Modules (DSD TECH HM-10 from Amazon)</code></p>
<p><code>  1x USB to TTL Serial Cable or Adapter</code></p>
<p>Wiring Looks Like this:</p>
<p><code>MCU UART &lt;—&gt; HM-10 &lt;***Wireless***&gt; HM-10 &lt;—&gt; USB Serial Cable &lt;—&gt; Laptop</code></p>
<h2 id="configuring-the-hm-10s">Configuring The HM-10&rsquo;s</h2>
<p>The HM-10 is configured by sending AT commands over UART.
I found <a href="https://people.ece.cornell.edu/land/courses/ece4760/PIC32/uart/HM10/DSD%20TECH%20HM-10%20datasheet.pdf">this</a> accurately documents the AT commands</p>
<h3 id="1-connect--the-hm10-to-your-serial-cable">1. Connect  the HM10 to your serial cable</h3>
<pre tabindex="0"><code>Serial Cable    HM10
       TX--——-—-RX
       RX—---—-—TX
       VCC-————VCC
       GND—————GND
</code></pre><h3 id="2-choose-a-serial-monitor">2. Choose a Serial monitor</h3>
<p>Use a Serial monitor(Like Arduino’s, Minicom, PuTTY, etc..) to send AT commands.  The HM-10 expects the characters(UART frames) that make up the AT command to be sent consecutively. If there is too long of a delay between characters, the HM-10 will ignore the AT command. Some serial monitors, like minicom, send characters as they are typed, which will cause the AT commands be ignored, since there will be too much delay between when the HM-10 receives each character. A work around for this is to type the AT command somewhere else, and then copy and paste it into minicom.</p>
<p>I usually use Arduino serial monitor, but if I need to modify parity or stop bits I&rsquo;ll switch to minicom since arduino doesn&rsquo;t support modifying those parameters.</p>
<p>Choose 9600 baud as that is the default baudrate of the modules</p>
<h3 id="3-pairing">3. Pairing</h3>
<p>With your first HM-10, put it into slave mode by sending the following AT command:
<code>AT+ROLE0</code></p>
<p>You can check that it was set by sending:
<code>AT+ROLE?</code></p>
<p>Connect the other HM-10, put it into master mode by sending:
<code>AT+ROLE1</code></p>
<p>While keeping the Master powered, power up the Slave module. The led on both of the hm-10s should stop blinking, which means they are paired. For this step I turn off the bluetooth on my phone and laptop, and go outside to avoid interfereance.</p>
<p>Once they are paired, connect the slave HM-10 to the UART port on your project, and connect the master HM-10 to the serial cable plugged into your computer. Now when the MCU transmitts a UART message, the slave HM-10 will forward it to the master HM-10 will send it to the serial monitor on the computer. When the serial monitor on the computer transmits a UART message, the master HM-10 will forward it to the slave HM-10, which will send ti to the MCU.</p>
<h3 id="4-configuration">4. Configuration</h3>
<p>You can configure parameters like the baud rate, parity, and stop bits. This <a href="https://people.ece.cornell.edu/land/courses/ece4760/PIC32/uart/HM10/DSD%20TECH%20HM-10%20datasheet.pdf">datasheet</a> accurately documents the AT commands and parameters.</p>
<p>For example, changing the baud rate to 115200 can be done with <code>AT+BAUD4</code></p>
<p>Check if the baud rate was set by sending <code>AT+BAUD?</code></p>
<p>When changing settings like, Baudrate, Stop bits, parity, etc.. be sure to write them down. If you forget the baudrate/party/stop bits the HM-10 is configured to, you will have to guess and check each possible combination in order to talk with it again.</p>
<p>If you ever want to factory reset the HM-10, send <code>AT+RENEW</code></p>
<h2 id="tips">Tips</h2>
<p>On my projects I like to add male headers so I can connect a USB to Serial cable and I also add a female header right next to it so I can slot in a HM-10 module. This gives me the flexability to use a standard USB to Serial cable or a HM-10 for print debugging/logging.</p>
<h2 id="refrences">Refrences</h2>
<p>Video: <a href="https://youtu.be/itGgUTPLkz8">https://youtu.be/itGgUTPLkz8</a></p>
<p>HM-10s: <a href="https://www.amazon.com/DSD-TECH-Bluetooth-iBeacon-Arduino/dp/B06WGZB2N4">https://www.amazon.com/DSD-TECH-Bluetooth-iBeacon-Arduino/dp/B06WGZB2N4</a></p>

    </div>
  </article>

  
  






  <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/posts">Writings</a></li>
        
      </ul>
    </div>

    
    <div id="toc-footer" style="display: none">
      <nav id="TableOfContents">
  <ul>
    <li><a href="#configuring-the-hm-10s">Configuring The HM-10&rsquo;s</a>
      <ul>
        <li><a href="#1-connect--the-hm10-to-your-serial-cable">1. Connect  the HM10 to your serial cable</a></li>
        <li><a href="#2-choose-a-serial-monitor">2. Choose a Serial monitor</a></li>
        <li><a href="#3-pairing">3. Pairing</a></li>
        <li><a href="#4-configuration">4. Configuration</a></li>
      </ul>
    </li>
    <li><a href="#tips">Tips</a></li>
    <li><a href="#refrences">Refrences</a></li>
  </ul>
</nav>
    </div>
    

    <div id="share-footer" style="display: none">
      
      <ul>
  
  
    
  
  
  <li>
    <a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2flowj.github.io%2fposts%2fwireless_uart%2f" aria-label="Facebook">
      <i class="fab fa-facebook fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://twitter.com/share?url=https%3a%2f%2flowj.github.io%2fposts%2fwireless_uart%2f&text=Wireless%20UART%20%28Serial%29%20for%20STM32%2fArduino%20%28HM-10%29" aria-label="Twitter">
      <i class="fab fa-twitter fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2flowj.github.io%2fposts%2fwireless_uart%2f&title=Wireless%20UART%20%28Serial%29%20for%20STM32%2fArduino%20%28HM-10%29" aria-label="Linkedin">
      <i class="fab fa-linkedin fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2flowj.github.io%2fposts%2fwireless_uart%2f&is_video=false&description=Wireless%20UART%20%28Serial%29%20for%20STM32%2fArduino%20%28HM-10%29" aria-label="Pinterest">
      <i class="fab fa-pinterest fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="mailto:?subject=Wireless%20UART%20%28Serial%29%20for%20STM32%2fArduino%20%28HM-10%29&body=Check out this article: https%3a%2f%2flowj.github.io%2fposts%2fwireless_uart%2f" aria-label="Email">
      <i class="fas fa-envelope fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2flowj.github.io%2fposts%2fwireless_uart%2f&title=Wireless%20UART%20%28Serial%29%20for%20STM32%2fArduino%20%28HM-10%29" aria-label="Pocket">
      <i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2flowj.github.io%2fposts%2fwireless_uart%2f&title=Wireless%20UART%20%28Serial%29%20for%20STM32%2fArduino%20%28HM-10%29" aria-label="reddit">
      <i class="fab fa-reddit fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.tumblr.com/share/link?url=https%3a%2f%2flowj.github.io%2fposts%2fwireless_uart%2f&name=Wireless%20UART%20%28Serial%29%20for%20STM32%2fArduino%20%28HM-10%29&description=A%20guide%20to%20get%20wirless%20using%20UART%20communication%20using%202%20HM-10%20BLE%20modules.%0aInitially%20I%20tried%20going%20the%20HC-05%20route%20to%20get%20wireless%20UART%20communication%20on%20my%20projects%2c%20however%20I%20always%20ran%20into%20connection%2fpowering%20issues%20with%20the%20HC-05.%0aRecently%20I%20got%20the%20HM-10%20bluetooth%20modules%2c%20which%20have%20worked%20much%20better%20for%20me.%20However%20one%20downside%2c%20compared%20to%20the%20HC-05%2c%20is%20that%20you%20will%20need%202%20HM-10%20modules%20and%20a%20Serial%20to%20USB%20cable%20in%20order%20to%20get%20wireless%20UART%20working." aria-label="Tumblr">
      <i class="fab fa-tumblr fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2flowj.github.io%2fposts%2fwireless_uart%2f&t=Wireless%20UART%20%28Serial%29%20for%20STM32%2fArduino%20%28HM-10%29" aria-label="Hacker News">
      <i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i>
    </a>
  </li>
</ul>

    </div>

    <div id="actions-footer">
      
        <a id="menu-toggle" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;" aria-label="Menu">
          <i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        
        <a id="toc-toggle" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;" aria-label="TOC">
          <i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        
        <a id="share-toggle" class="icon" href="#" onclick="$('#share-footer').toggle();return false;" aria-label="Share">
          <i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" aria-label="Top of Page">
          <i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>


  <footer id="footer">
  <div class="footer-left">
    Copyright  &copy; 2023  You 
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
        <li><a href="/">Home</a></li>
         
        <li><a href="/posts">Writings</a></li>
        
      </ul>
    </nav>
  </div>
</footer>


  </div>
</body>

<link rel="stylesheet" href=/lib/font-awesome/css/all.min.css>
<script src=/lib/jquery/jquery.min.js></script>
<script src=/js/main.js></script>

<script src=/js/code-copy.js></script>




</html>
