<!DOCTYPE html>
<html lang="en-us">
<head>
  <link rel="preload" href="/lib/font-awesome/webfonts/fa-brands-400.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" href="/lib/font-awesome/webfonts/fa-regular-400.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" href="/lib/font-awesome/webfonts/fa-solid-900.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" href="/lib/JetBrainsMono/web/woff2/JetBrainsMono-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <script type="text/javascript" src="https://latest.cactus.chat/cactus.js"></script>
  <link rel="stylesheet" href="https://latest.cactus.chat/style.css" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title> Macbook Lightbar | Jonathan</title>
  <link rel = 'canonical' href = 'https://lowj.github.io/posts/lightbar/'>
  <meta name="description" content="Currently a CSE major at UC Irvine. 
   
 Previously: Intern at Amazon, Northrop Grumman; Undergrad Researcher @ ASPIN Lab">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="robots" content="all,follow">
  <meta name="googlebot" content="index,follow,snippet,archive">
  <meta property="og:title" content="Macbook Lightbar" />
<meta property="og:description" content="After 7 years my Early 2015 Macbook’s battery was barely working and on its last legs. After getting a new battery from iFixit I opened my MacBook and replaced it. I booted it up and noticed there was a bunch of smudges / damage on the screen. I realized that some of the alcohol I used during the installation process sept through the keyboard and got onto the screen and caused damage." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://lowj.github.io/posts/lightbar/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-05-22T16:56:54+00:00" />
<meta property="article:modified_time" content="2022-05-22T16:56:54+00:00" />


  <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Macbook Lightbar"/>
<meta name="twitter:description" content="After 7 years my Early 2015 Macbook’s battery was barely working and on its last legs. After getting a new battery from iFixit I opened my MacBook and replaced it. I booted it up and noticed there was a bunch of smudges / damage on the screen. I realized that some of the alcohol I used during the installation process sept through the keyboard and got onto the screen and caused damage."/>

  
  
    
  
  
  <link rel="stylesheet" href="https://lowj.github.io/css/styles.c05d68261bf086a9d7713c4f8a6215a3601608e267a816a7ee58f139b3d1aae51222aae2081c8e0c6bd35e1334773b7a16283022f31f92afd93bb37e5e822e66.css" integrity="sha512-wF1oJhvwhqnXcTxPimIVo2AWCOJnqBan7ljxObPRquUSIqriCByODGvTXhM0dzt6FigwIvMfkq/ZO7N&#43;XoIuZg=="> 

  
  
  
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  

  
<link rel="icon" type="image/png" href="https://lowj.github.io/images/favicon.ico" />

  
  
  
  
</head>

<body class="max-width mx-auto px3 ltr">
  <div class="content index py4">

  <div id="header-post">
  <a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;" aria-label="Top of Page"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
        <li><a href="/">Home</a></li>
         
        <li><a href="/posts">Writings</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li>
          <a class="icon" href=" https://lowj.github.io/posts/cuda/" aria-label="Previous">
            <i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i>
          </a>
        </li>
        
        
        <li>
          <a class="icon" href="https://lowj.github.io/posts/tp_kb/" aria-label="Next">
            <i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i>
          </a>
        </li>
        
        <li>
          <a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" aria-label="Top of Page">
            <i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i>
          </a>
        </li>
        <li>
          <a class="icon" href="#" aria-label="Share">
            <i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i>
          </a>
        </li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      
      <ul>
  
  
    
  
  
  <li>
    <a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2flowj.github.io%2fposts%2flightbar%2f" aria-label="Facebook">
      <i class="fab fa-facebook " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://twitter.com/share?url=https%3a%2f%2flowj.github.io%2fposts%2flightbar%2f&text=Macbook%20Lightbar" aria-label="Twitter">
      <i class="fab fa-twitter " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2flowj.github.io%2fposts%2flightbar%2f&title=Macbook%20Lightbar" aria-label="Linkedin">
      <i class="fab fa-linkedin " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2flowj.github.io%2fposts%2flightbar%2f&is_video=false&description=Macbook%20Lightbar" aria-label="Pinterest">
      <i class="fab fa-pinterest " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="mailto:?subject=Macbook%20Lightbar&body=Check out this article: https%3a%2f%2flowj.github.io%2fposts%2flightbar%2f" aria-label="Email">
      <i class="fas fa-envelope " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2flowj.github.io%2fposts%2flightbar%2f&title=Macbook%20Lightbar" aria-label="Pocket">
      <i class="fab fa-get-pocket " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2flowj.github.io%2fposts%2flightbar%2f&title=Macbook%20Lightbar" aria-label="reddit">
      <i class="fab fa-reddit " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.tumblr.com/share/link?url=https%3a%2f%2flowj.github.io%2fposts%2flightbar%2f&name=Macbook%20Lightbar&description=After%207%20years%20my%20Early%202015%20Macbook%e2%80%99s%20battery%20was%20barely%20working%20and%20on%20its%20last%20legs.%20After%20getting%20a%20new%20battery%20from%20iFixit%20I%20opened%20my%20MacBook%20and%20replaced%20it.%20I%20booted%20it%20up%20and%20noticed%20there%20was%20a%20bunch%20of%20smudges%20%2f%20damage%20on%20the%20screen.%20I%20realized%20that%20some%20of%20the%20alcohol%20I%20used%20during%20the%20installation%20process%20sept%20through%20the%20keyboard%20and%20got%20onto%20the%20screen%20and%20caused%20damage." aria-label="Tumblr">
      <i class="fab fa-tumblr " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2flowj.github.io%2fposts%2flightbar%2f&t=Macbook%20Lightbar" aria-label="Hacker News">
      <i class="fab fa-hacker-news " aria-hidden="true"></i>
    </a>
  </li>
</ul>

    </div>
    
    <div id="toc">
      <nav id="TableOfContents"></nav>
    </div>
    
  </span>
</div>


  <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
    <header>
      <h1 class="posttitle" itemprop="name headline">
        Macbook Lightbar
      </h1>
      <div class="meta">
        
        <div class="postdate">
          
          <time datetime="2022-05-22 16:56:54 &#43;0000 UTC" itemprop="datePublished">2022-05-22</time>
          
        </div>
        
        
        
        
        <div class="article-tag">
            <i class="fas fa-tag"></i>
            
            
            <a class="tag-link" href="/tags/projects" rel="tag">Projects</a>
            
             ,  
            <a class="tag-link" href="/tags/keyboard" rel="tag">Keyboard</a>
            
        </div>
        
      </div>
    </header>

  
    
    <div class="content" itemprop="articleBody">
      <p><img src="/lb/title.png" alt="Title Pic"></p>
<p>After 7 years my Early 2015 Macbook’s battery was barely working and on its last legs. After getting a new battery from iFixit I opened my MacBook and replaced it. I booted it up and noticed there was a bunch of smudges / damage on the screen. I realized that some of the alcohol I used during the installation process sept through the keyboard and got onto the screen and caused damage. At this point I decided to just remove the screen and use it as a headless MacBook.
[antenna pic]</p>
<p>After removing the screen I just had to deal with the antenna since it was originally housed inside of the screen hinge. I was planning on just 3d printing an enclosure for the antenna, but my friend (jokingly) said I should make it RGB. Thinking about it for a bit I knew that would look sick and went to work.</p>
<p>First step was working on the housing, after many hours I got a working print that could fit in the gap that the screen left and hold the antenna and RGB strip.
[solidworks pic]</p>
<p>I realized I blocked a lot of the airflow so I added some vents
[pic of vents]</p>
<p>Next I had to figure out how to mount the enclosure to the laptop frame. I created plugs that fit in both ends of the strip and then I create a print that had screw holes to hold the plugs down.
[pics]</p>
<p>First 3D printed prototype
<img src="/lb/pla_pink.jpeg" alt="PLA_Pink"></p>
<p>Next step was to work on electronics.</p>
<p>I decided to use the USB port for powering and controlling the light strip. The benefit to this setup is that the USB port has more power protection. The USB port also allows me to control the light strip over serial and re-flash the board on the fly.</p>
<p>For the MCU I went with a generic Beetle USB ATMEGA32U4. This board gives easy access to USB pins and it was small enough to fit inside the MacBook. It also supports USB serial communication. For the LED strip I chose Adafruit Mini Skinny NeoPiexels (TODO link) since they have a smaller size than the standard strips.</p>
<p>Wiring was pretty straightforward,</p>
<p>[USB PORT]&lt;——&gt;[MCU]——&gt;[RGB Strip]</p>
<p>Unfortunately I couldn’t find any way easily access the USB port connections so I had to cut off the metal shielding a bit.
<img src="/lb/wiring.jpeg" alt="Wiring"></p>
<p>After putting it together here was the first prototype

<div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
  <iframe src="https://www.youtube.com/embed/ALV8qbvH-zo" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" allowfullscreen title="YouTube Video"></iframe>
</div>
</p>
<p>Got some white filament so the colors can diffuse through
<img src="/lb/pla_white.jpeg" alt="PLA White">

<div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
  <iframe src="https://www.youtube.com/embed/wgFCGsd1kUE" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" allowfullscreen title="YouTube Video"></iframe>
</div>
</p>
<p>Once I knew everything fit properly I ordered SLA resin print from JLCPCB. The resin diffused the light much better than the PLA print

<div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
  <iframe src="https://www.youtube.com/embed/JD3nTduIpwo" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" allowfullscreen title="YouTube Video"></iframe>
</div>
</p>
<p>Code
Code pretty straight forward.
[script code]</p>
<p>Since communication to the light bar is done over serial it convenient to interface with it on MacOS.

<div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
  <iframe src="https://www.youtube.com/embed/CzTJWbMrw1k" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" allowfullscreen title="YouTube Video"></iframe>
</div>
</p>

    </div>
  </article>

  
  






  <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/posts">Writings</a></li>
        
      </ul>
    </div>

    
    <div id="toc-footer" style="display: none">
      <nav id="TableOfContents"></nav>
    </div>
    

    <div id="share-footer" style="display: none">
      
      <ul>
  
  
    
  
  
  <li>
    <a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2flowj.github.io%2fposts%2flightbar%2f" aria-label="Facebook">
      <i class="fab fa-facebook fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://twitter.com/share?url=https%3a%2f%2flowj.github.io%2fposts%2flightbar%2f&text=Macbook%20Lightbar" aria-label="Twitter">
      <i class="fab fa-twitter fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2flowj.github.io%2fposts%2flightbar%2f&title=Macbook%20Lightbar" aria-label="Linkedin">
      <i class="fab fa-linkedin fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2flowj.github.io%2fposts%2flightbar%2f&is_video=false&description=Macbook%20Lightbar" aria-label="Pinterest">
      <i class="fab fa-pinterest fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="mailto:?subject=Macbook%20Lightbar&body=Check out this article: https%3a%2f%2flowj.github.io%2fposts%2flightbar%2f" aria-label="Email">
      <i class="fas fa-envelope fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2flowj.github.io%2fposts%2flightbar%2f&title=Macbook%20Lightbar" aria-label="Pocket">
      <i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2flowj.github.io%2fposts%2flightbar%2f&title=Macbook%20Lightbar" aria-label="reddit">
      <i class="fab fa-reddit fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.tumblr.com/share/link?url=https%3a%2f%2flowj.github.io%2fposts%2flightbar%2f&name=Macbook%20Lightbar&description=After%207%20years%20my%20Early%202015%20Macbook%e2%80%99s%20battery%20was%20barely%20working%20and%20on%20its%20last%20legs.%20After%20getting%20a%20new%20battery%20from%20iFixit%20I%20opened%20my%20MacBook%20and%20replaced%20it.%20I%20booted%20it%20up%20and%20noticed%20there%20was%20a%20bunch%20of%20smudges%20%2f%20damage%20on%20the%20screen.%20I%20realized%20that%20some%20of%20the%20alcohol%20I%20used%20during%20the%20installation%20process%20sept%20through%20the%20keyboard%20and%20got%20onto%20the%20screen%20and%20caused%20damage." aria-label="Tumblr">
      <i class="fab fa-tumblr fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2flowj.github.io%2fposts%2flightbar%2f&t=Macbook%20Lightbar" aria-label="Hacker News">
      <i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i>
    </a>
  </li>
</ul>

    </div>

    <div id="actions-footer">
      
        <a id="menu-toggle" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;" aria-label="Menu">
          <i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        
        <a id="toc-toggle" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;" aria-label="TOC">
          <i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        
        <a id="share-toggle" class="icon" href="#" onclick="$('#share-footer').toggle();return false;" aria-label="Share">
          <i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" aria-label="Top of Page">
          <i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>


  <footer id="footer">
  <div class="footer-left">
    Copyright  &copy; 2023  You 
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
        <li><a href="/">Home</a></li>
         
        <li><a href="/posts">Writings</a></li>
        
      </ul>
    </nav>
  </div>
</footer>


  </div>
</body>

<link rel="stylesheet" href=/lib/font-awesome/css/all.min.css>
<script src=/lib/jquery/jquery.min.js></script>
<script src=/js/main.js></script>

<script src=/js/code-copy.js></script>




</html>
