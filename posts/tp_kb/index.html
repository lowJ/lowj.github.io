<!DOCTYPE html>
<html lang="en-us">
<head>
  <link rel="preload" href="/lib/font-awesome/webfonts/fa-brands-400.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" href="/lib/font-awesome/webfonts/fa-regular-400.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" href="/lib/font-awesome/webfonts/fa-solid-900.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" href="/lib/JetBrainsMono/web/woff2/JetBrainsMono-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <script type="text/javascript" src="https://latest.cactus.chat/cactus.js"></script>
  <link rel="stylesheet" href="https://latest.cactus.chat/style.css" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title> Thinkpad Keyboard | Jonathan</title>
  <link rel = 'canonical' href = 'https://lowj.github.io/posts/tp_kb/'>
  <meta name="description" content="Currently a CSE major at UC Irvine. 
   
 Previously: Intern at Amazon, Northrop Grumman; Undergrad Researcher @ ASPIN Lab">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="robots" content="all,follow">
  <meta name="googlebot" content="index,follow,snippet,archive">
  <meta property="og:title" content="Thinkpad Keyboard" />
<meta property="og:description" content="tp-keyboard ! The goal of this project is to make a useable desktop keyboard from the keyboard of the ThinkPad L420 laptop and making the trackpoint functional.
I originally started this project back in early 2020 where I spent alot of time decoding the Keyboard matrix and figuring out the pinout of the trackpoint module. I created a breakout board to easily access the pins of the keyboards FFC cable which made it easier to work with while decoding the matrix." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://lowj.github.io/posts/tp_kb/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-03-22T16:56:54+00:00" />
<meta property="article:modified_time" content="2023-03-22T16:56:54+00:00" />


  <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Thinkpad Keyboard"/>
<meta name="twitter:description" content="tp-keyboard ! The goal of this project is to make a useable desktop keyboard from the keyboard of the ThinkPad L420 laptop and making the trackpoint functional.
I originally started this project back in early 2020 where I spent alot of time decoding the Keyboard matrix and figuring out the pinout of the trackpoint module. I created a breakout board to easily access the pins of the keyboards FFC cable which made it easier to work with while decoding the matrix."/>

  
  
    
  
  
  <link rel="stylesheet" href="https://lowj.github.io/css/styles.c05d68261bf086a9d7713c4f8a6215a3601608e267a816a7ee58f139b3d1aae51222aae2081c8e0c6bd35e1334773b7a16283022f31f92afd93bb37e5e822e66.css" integrity="sha512-wF1oJhvwhqnXcTxPimIVo2AWCOJnqBan7ljxObPRquUSIqriCByODGvTXhM0dzt6FigwIvMfkq/ZO7N&#43;XoIuZg=="> 

  
  
  
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  

  
<link rel="icon" type="image/png" href="https://lowj.github.io/images/favicon.ico" />

  
  
  
  
</head>

<body class="max-width mx-auto px3 ltr">
  <div class="content index py4">

  <div id="header-post">
  <a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;" aria-label="Top of Page"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
        <li><a href="/">Home</a></li>
         
        <li><a href="/posts">Writings</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li>
          <a class="icon" href=" https://lowj.github.io/posts/lightbar/" aria-label="Previous">
            <i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i>
          </a>
        </li>
        
        
        <li>
          <a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" aria-label="Top of Page">
            <i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i>
          </a>
        </li>
        <li>
          <a class="icon" href="#" aria-label="Share">
            <i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i>
          </a>
        </li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      
      <ul>
  
  
    
  
  
  <li>
    <a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2flowj.github.io%2fposts%2ftp_kb%2f" aria-label="Facebook">
      <i class="fab fa-facebook " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://twitter.com/share?url=https%3a%2f%2flowj.github.io%2fposts%2ftp_kb%2f&text=Thinkpad%20Keyboard" aria-label="Twitter">
      <i class="fab fa-twitter " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2flowj.github.io%2fposts%2ftp_kb%2f&title=Thinkpad%20Keyboard" aria-label="Linkedin">
      <i class="fab fa-linkedin " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2flowj.github.io%2fposts%2ftp_kb%2f&is_video=false&description=Thinkpad%20Keyboard" aria-label="Pinterest">
      <i class="fab fa-pinterest " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="mailto:?subject=Thinkpad%20Keyboard&body=Check out this article: https%3a%2f%2flowj.github.io%2fposts%2ftp_kb%2f" aria-label="Email">
      <i class="fas fa-envelope " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2flowj.github.io%2fposts%2ftp_kb%2f&title=Thinkpad%20Keyboard" aria-label="Pocket">
      <i class="fab fa-get-pocket " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2flowj.github.io%2fposts%2ftp_kb%2f&title=Thinkpad%20Keyboard" aria-label="reddit">
      <i class="fab fa-reddit " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.tumblr.com/share/link?url=https%3a%2f%2flowj.github.io%2fposts%2ftp_kb%2f&name=Thinkpad%20Keyboard&description=tp-keyboard%20%21%20The%20goal%20of%20this%20project%20is%20to%20make%20a%20useable%20desktop%20keyboard%20from%20the%20keyboard%20of%20the%20ThinkPad%20L420%20laptop%20and%20making%20the%20trackpoint%20functional.%0aI%20originally%20started%20this%20project%20back%20in%20early%202020%20where%20I%20spent%20alot%20of%20time%20decoding%20the%20Keyboard%20matrix%20and%20figuring%20out%20the%20pinout%20of%20the%20trackpoint%20module.%20I%20created%20a%20breakout%20board%20to%20easily%20access%20the%20pins%20of%20the%20keyboards%20FFC%20cable%20which%20made%20it%20easier%20to%20work%20with%20while%20decoding%20the%20matrix." aria-label="Tumblr">
      <i class="fab fa-tumblr " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2flowj.github.io%2fposts%2ftp_kb%2f&t=Thinkpad%20Keyboard" aria-label="Hacker News">
      <i class="fab fa-hacker-news " aria-hidden="true"></i>
    </a>
  </li>
</ul>

    </div>
    
    <div id="toc">
      <nav id="TableOfContents">
  <ul>
    <li><a href="#heading">!</a></li>
    <li><a href="#trackpoint">Trackpoint</a></li>
    <li><a href="#keyboard-matrix">Keyboard Matrix</a></li>
    <li><a href="#housing">Housing</a></li>
    <li><a href="#parts">Parts</a></li>
    <li><a href="#helpful-resources">Helpful resources:</a></li>
  </ul>
</nav>
    </div>
    
  </span>
</div>


  <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
    <header>
      <h1 class="posttitle" itemprop="name headline">
        Thinkpad Keyboard
      </h1>
      <div class="meta">
        
        <div class="postdate">
          
          <time datetime="2023-03-22 16:56:54 &#43;0000 UTC" itemprop="datePublished">2023-03-22</time>
          
        </div>
        
        
        
        
        <div class="article-tag">
            <i class="fas fa-tag"></i>
            
            
            <a class="tag-link" href="/tags/projects" rel="tag">Projects</a>
            
             ,  
            <a class="tag-link" href="/tags/keyboard" rel="tag">Keyboard</a>
            
        </div>
        
      </div>
    </header>

  
    
    <div class="content" itemprop="articleBody">
      <h1 id="tp-keyboard">tp-keyboard</h1>
<p><img src="/tpkb/img_top.jpeg" alt="alt text"></p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p><img src="/tpkb/img_side1.jpeg" alt="alt text">
<img src="/tpkb/img_side2.jpeg" alt="alt text">
<img src="/tpkb/img_wood_proto.jpeg" alt="alt text"></p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<h2 id="heading">!</h2>
<p>The goal of this project is to make a useable desktop keyboard from the keyboard of the ThinkPad L420 laptop and making the trackpoint functional.</p>
<p>I originally started this project back in early 2020 where I spent alot of time decoding the Keyboard matrix and figuring out the pinout of the trackpoint module. I created a breakout board to easily access the pins of the keyboards FFC cable which made it easier to work with while decoding the matrix.</p>
<p><img src="https://i.imgur.com/ec5ur1S.jpg" alt="alt text"></p>
<p><img src="https://i.imgur.com/iDEyUDH.jpg" alt="alt text"></p>
<p>Once I figured out the pinout of the matrix, I created a custom PCB which connects to the keyboard module and the 8 pin FFC from the trackpoint module. I also ordered some laser cuts for a case I designed in AutoCAD.</p>
<p><img src="/tpkb/IMG_8128.jpeg" alt="alt text"></p>
<p>Im using a custom PCB to connect to the FFC cables of the keyboard matrix and trackpoint module to a Teensy++ board. The Teensy++ runs QMK firmware to scan the keyboard matrix and read the signals from the trackpoint module. QMK has a PS/2 library which is used to make the trackpoint module functional.</p>
<h2 id="trackpoint">Trackpoint</h2>
<p>The trackpoint module has an 8 pin FFC cable.</p>
<p>The modules clock pin needs to connect to PD2 and data pin needs to connect to PD5 of the teensy</p>
<p><img src="https://i.imgur.com/eAW1w8l.jpg?1" alt="alt text"></p>
<!-- raw HTML omitted -->
<h2 id="keyboard-matrix">Keyboard Matrix</h2>
<p>The keyboard has a 30 pin FFC cable connected to it. These are the rows and column pins for the matrix</p>
<p><img src="https://i.imgur.com/65hynYD.jpg?1" alt="alt text"></p>
<!-- raw HTML omitted -->
<h2 id="housing">Housing</h2>
<p>The housing is comprised of laser cut wood/acrylic sheets (1.5mm and 3mm) and M2 screws.</p>
<p>This is the stackup I used. However thicknesses can be varied to make the keyboard lower or higher profile.</p>
<pre tabindex="0"><code>[      shield_2.dxf (1.5mm)      ]
[      shield_1.dxf (1.5mm)      ]
[      shield_1.dxf (3.0mm)      ]
[       layer4.dxf (1.5mm)       ]
[  layer3 cover ffc.dxf (3.0mm)  ]
[       layer2.dxf (3.0mm)       ]
[    layer2_nousb.dxf (1.5mm)    ]
[       layer1.dxf (1.5mm)       ]
</code></pre><p>Some notes about the housing:</p>
<ul>
<li><code>layer2_nousb.dxf</code> has no usb cutout while laye2.dxf has a cut out for usb. These allow for adjusting when the usb cut-out starts.</li>
<li>layer2 has to have enough space for the PCB, so it cannot be too thin, in my case 1.5mm + 3.0mm was enough clearance</li>
<li><code>layer3 cover ffc.dxf's</code> thickness should try to match the height of the edge of the keyboard matrix module. This is because the keyboard module lays ontop of layer2 and layer3 cover ffc goes along the edges of the keyboard module. layer4 goes ontop and helps secure/hold down the keyboard module. If the layer3 section is too thick, then the edges of the keyboard module wont be secured leading to more wobble. If the layer3 section is too thin, the keyboard will be held down, but layer4 would not be able to sit flush. If layer 3 is the right height then there would be some pressure holding the keyboard down and layer4 would sit flush.</li>
<li><code>layer4.dxf</code> is better if it is thinner (1.5mm) so fingers dont hit it when using keys on the edges</li>
<li><code>layer1.dxf</code> [WIP] there is a hole in the middle to secure the keyboard down, it goes into the screwhole in the back of the keyboard module, this helps with wobble when using the trackpoint</li>
</ul>
<p>Other than these notes, the thicknesses of each layer can be adjusted.</p>
<!-- raw HTML omitted -->
<h2 id="parts">Parts</h2>
<ul>
<li>Keyboard from L420 or similar: SL410 L410 L412 L420 L421 L510 L512 L520 SL410 SL410K SL510 SL510K I think these also work.</li>
<li>Trackpoint from r61 keyboard module or similar</li>
<li>Acrylic sheets or wood for housing, I used 3mm (1/8inch) and 1.5mm (1/16in) thick sheets</li>
<li>Teensy++ (<a href="https://www.pjrc.com/store/teensypp.html">https://www.pjrc.com/store/teensypp.html</a>)</li>
<li>PCB</li>
<li>Trackpoint connector (<a href="https://www.digikey.com/short/2vzz139r">https://www.digikey.com/short/2vzz139r</a>) (Part #: 84981-8)</li>
<li>Keyboard FFC connector (<a href="https://www.digikey.com/short/30qq3210">https://www.digikey.com/short/30qq3210</a>) (Part #: 
FFC3B07-30-T)</li>
<li>4.7K(2) and 100K Resistor (1206)</li>
<li>2.2uF Cap (1206)</li>
<li>M2 Screw kit. (With sizes like 4mm /6mm /8mm /10mm /12mm /16mm /20mm) can be found on Amazon</li>
</ul>
<!-- raw HTML omitted -->
<h2 id="helpful-resources">Helpful resources:</h2>
<ul>
<li><a href="https://qmk.fm/">https://qmk.fm/</a> (qmk firmware)</li>
<li><a href="https://www.pjrc.com/store/teensypp.html">https://www.pjrc.com/store/teensypp.html</a> (teensy++ 2.0)</li>
<li><a href="http://pcbheaven.com/wikipages/How_Key_Matrices_Works/">http://pcbheaven.com/wikipages/How_Key_Matrices_Works/</a> (Keyboard matrix info)</li>
<li><a href="https://deskthority.net/wiki/TrackPoint_Hardware">https://deskthority.net/wiki/TrackPoint_Hardware</a> (Trackpoint module pinouts)</li>
<li><a href="https://www.instructables.com/id/How-to-Make-a-USB-Laptop-Keyboard-Controller/">https://www.instructables.com/id/How-to-Make-a-USB-Laptop-Keyboard-Controller/</a> (How to decode a keyboard matrix)</li>
<li><a href="https://docs.qmk.fm/#/feature_ps2_mouse?id=the-cirtuitry-between-trackpoint-and-controller">https://docs.qmk.fm/#/feature_ps2_mouse?id=the-cirtuitry-between-trackpoint-and-controller</a> (Trackpoint wiring)</li>
<li><a href="https://beta.docs.qmk.fm/for-makers-and-modders/hand_wire">https://beta.docs.qmk.fm/for-makers-and-modders/hand_wire</a> (How to creat firmware with QMK)</li>
<li><a href="https://deskthority.net/wiki/MX13_SpaceSaver_Keyboard">https://deskthority.net/wiki/MX13_SpaceSaver_Keyboard</a> (Example of kb with teensy++ and trackpoint)</li>
</ul>

    </div>
  </article>

  
  






  <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/posts">Writings</a></li>
        
      </ul>
    </div>

    
    <div id="toc-footer" style="display: none">
      <nav id="TableOfContents">
  <ul>
    <li><a href="#heading">!</a></li>
    <li><a href="#trackpoint">Trackpoint</a></li>
    <li><a href="#keyboard-matrix">Keyboard Matrix</a></li>
    <li><a href="#housing">Housing</a></li>
    <li><a href="#parts">Parts</a></li>
    <li><a href="#helpful-resources">Helpful resources:</a></li>
  </ul>
</nav>
    </div>
    

    <div id="share-footer" style="display: none">
      
      <ul>
  
  
    
  
  
  <li>
    <a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2flowj.github.io%2fposts%2ftp_kb%2f" aria-label="Facebook">
      <i class="fab fa-facebook fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://twitter.com/share?url=https%3a%2f%2flowj.github.io%2fposts%2ftp_kb%2f&text=Thinkpad%20Keyboard" aria-label="Twitter">
      <i class="fab fa-twitter fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2flowj.github.io%2fposts%2ftp_kb%2f&title=Thinkpad%20Keyboard" aria-label="Linkedin">
      <i class="fab fa-linkedin fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2flowj.github.io%2fposts%2ftp_kb%2f&is_video=false&description=Thinkpad%20Keyboard" aria-label="Pinterest">
      <i class="fab fa-pinterest fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="mailto:?subject=Thinkpad%20Keyboard&body=Check out this article: https%3a%2f%2flowj.github.io%2fposts%2ftp_kb%2f" aria-label="Email">
      <i class="fas fa-envelope fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2flowj.github.io%2fposts%2ftp_kb%2f&title=Thinkpad%20Keyboard" aria-label="Pocket">
      <i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2flowj.github.io%2fposts%2ftp_kb%2f&title=Thinkpad%20Keyboard" aria-label="reddit">
      <i class="fab fa-reddit fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.tumblr.com/share/link?url=https%3a%2f%2flowj.github.io%2fposts%2ftp_kb%2f&name=Thinkpad%20Keyboard&description=tp-keyboard%20%21%20The%20goal%20of%20this%20project%20is%20to%20make%20a%20useable%20desktop%20keyboard%20from%20the%20keyboard%20of%20the%20ThinkPad%20L420%20laptop%20and%20making%20the%20trackpoint%20functional.%0aI%20originally%20started%20this%20project%20back%20in%20early%202020%20where%20I%20spent%20alot%20of%20time%20decoding%20the%20Keyboard%20matrix%20and%20figuring%20out%20the%20pinout%20of%20the%20trackpoint%20module.%20I%20created%20a%20breakout%20board%20to%20easily%20access%20the%20pins%20of%20the%20keyboards%20FFC%20cable%20which%20made%20it%20easier%20to%20work%20with%20while%20decoding%20the%20matrix." aria-label="Tumblr">
      <i class="fab fa-tumblr fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2flowj.github.io%2fposts%2ftp_kb%2f&t=Thinkpad%20Keyboard" aria-label="Hacker News">
      <i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i>
    </a>
  </li>
</ul>

    </div>

    <div id="actions-footer">
      
        <a id="menu-toggle" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;" aria-label="Menu">
          <i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        
        <a id="toc-toggle" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;" aria-label="TOC">
          <i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        
        <a id="share-toggle" class="icon" href="#" onclick="$('#share-footer').toggle();return false;" aria-label="Share">
          <i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" aria-label="Top of Page">
          <i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>


  <footer id="footer">
  <div class="footer-left">
    Copyright  &copy; 2023  You 
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
        <li><a href="/">Home</a></li>
         
        <li><a href="/posts">Writings</a></li>
        
      </ul>
    </nav>
  </div>
</footer>


  </div>
</body>

<link rel="stylesheet" href=/lib/font-awesome/css/all.min.css>
<script src=/lib/jquery/jquery.min.js></script>
<script src=/js/main.js></script>

<script src=/js/code-copy.js></script>




</html>
